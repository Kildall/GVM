@using GVM.Services
@using GVM.Pages
@inject APIService API
@inherits LayoutComponentBase
<MudThemeProvider Theme="_theme" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout >
    <LoadingIndicator>
        <MudAppBar class="d-none"></MudAppBar>
        @if (platform == DevicePlatform.WinUI)
        {
            <MudDrawer Open="true" Class="min-vh-100"  Anchor="Anchor.Left"  Variant="@DrawerVariant.Persistent">
                <WindowsNavBar/>
            </MudDrawer>
        }
        <MudMainContent>
            <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                @Body
            </MudContainer>
        </MudMainContent>
        @if (platform == DevicePlatform.Android)
        {
            <AndroidNavBar/>
        }
    </LoadingIndicator>
</MudLayout>



@code {
    DevicePlatform platform = DeviceInfo.Current.Platform;

    MudTheme _theme = new ()
        {
            Palette = new PaletteLight()
            {
                Primary = "#3A32B7",
                Secondary = "#9A96D1",
                Tertiary = "#FFFFFF",
                Background = "#FFFFFF",
                BackgroundGrey = "#A7A9B7",
                TextPrimary = "#181B30",
                TextSecondary = "#ACAEBB",
                Error = "#B00020",
                Success = "#00E676",
            },
            Typography = new Typography()
            {
                Default =
                {
                    FontFamily = new [] { "DM Sans" },
                    FontSize = "1.0rem",
                    FontWeight = 500,
                    LineHeight = 1.6,
                    LetterSpacing = ".0075em"
                }
            },
            LayoutProperties = new LayoutProperties()
            {
                AppbarHeight = "0px",
                DrawerWidthLeft = "12em"
            }
        };
}